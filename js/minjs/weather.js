"use strict";$(document).ready(function(){function e(){$(".alert .close").on("click",function(e){$(this).fadeOut(500,function(){$(this).parent().hide(),$(".searchResponse").removeClass("alert-danger"),$(".searchResponse").removeClass("alert-warning")})})}function t(){$(".searchResponse").fadeOut(500,function(){$(".searchResponse").hide(),$(".searchResponse").removeClass("alert-danger"),$(".searchResponse").removeClass("alert-warning")})}new Vue({el:"#vue1",data:{message:"This is Vue"}}),new Vue({el:"#vue2",data:{message:"This is also Vue",items:[]},methods:{addItem:function(){this.items.push({text:"New item!"})}}}),new Vue({el:"#vue3",data:{message:"Add stuff to a list",input:"",items:[]},methods:{addItem:function(){this.items.push({text:this.input}),this.input=""}}});$("#weatherBtn").click(function(s){function n(t){$(".searchResponse").fadeIn(500,function(){$(".searchResponse").show()});var s;"warning"===t?(s="danger",$(".searchResponse").html("<strong>"+a.value+"</strong> finns redan ")):(s="warning",$(".searchResponse").html("Kunde inte hitta <strong> "+a.value+" </strong>")),$(".searchResponse").addClass("alert-"+t).removeClass("alert-"+s),$(".searchResponse").append('<button type="submit" id="closeAlert" class="btn btn-warning btn-xs close"><span class="glyphicon glyphicon-remove"></span></button>'),e()}s.preventDefault(),$(".searchResponse").text(" ");var a=document.getElementById("stationInput"),o=a.value;console.log(o),$.ajax({type:"GET",dataType:"json",url:"http://opendata-download-metobs.smhi.se/api/version/1.0/parameter/2.json",success:function(e){$.each(e.station,function(e,t){t.name==o&&(o=t.id,console.log(o))}),$.ajax({type:"GET",url:"http://opendata-download-metobs.smhi.se/api/version/1.0/parameter/2/station/"+o+"/period/latest-day/data.json",success:function(e){var s=e.station.name,a=e.period.summary,o=e.value[0].value;console.log("Temperatur senaste dygnet i ",s,o),$("#weatherTable").each(function(){var e="<tr>";if(e+='<td class="station col-md-4">'+s+"</td>",e+='<td class="period col-md-4">'+a+"</td>",e+='<td class="temperature col-md-4">'+o+"</td>",e+="</tr>",$("tbody tr",this).length>0){var r=$("#weatherTable tr > td:contains("+s+")");r.length>0?n("warning"):($("tbody",this).append(e),t())}else $("tbody",this).append(e),t()});var r=0,i=Number.MAX_SAFE_INTEGER;$(".temperature").each(function(){parseFloat(this.innerHTML)>r&&(r=parseFloat(this.innerHTML)),parseFloat(this.innerHTML)<i&&(i=parseFloat(this.innerHTML))}),$(".warmestStation").text(r+" c"),$(".coldestStation").text(i+" c"),$("#tempSpan").html(o+"c")},error:function(e){n("danger"),console.log("exception call #2: "+e)}})},error:function(e){console.log("exception call #1: "+e)}})})});
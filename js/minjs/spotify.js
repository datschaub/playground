"use strict";$(document).ready(function(){Vue.component("artist-puff",{template:'\t\t<div class="col-md-3 artist-puff">\t\t<div class="artist-puff-header"><h2>{{ name }}</h2></div>\t\t<div class="artist-puff-image">\t\t<a :href="link"><img :src="image" width="150px" height="150px" class="img-circle"></a>\t\t</div>\t\t<div class="artist-puff-popularity">\t\t<div class="artist-puff-popularity-header text-muted">\t\tPopularity <i class="fa fa-line-chart">\t\t</div>\t\t<div class="progress">\t\t<div class="progress-bar" role="progressbar" :aria-valuenow="popularity" aria-valuemin="0" aria-valuemax="100" :style="progressbar"><span>{{ popularity }}</span></div>\t\t</div>\t\t</div>\t\t<div class="artist-puff-genres">\t\t<div class="artist-puff-genres-header">\t\tGenres <i class="fa fa-music"></i>\t\t</div>\t\t<ul>\t\t<li class="text-muted" v-for="genre in genres">\t\t{{ genre }}\t\t</li>\t\t</ul\t\t</div>\t\t</div>\t\t</div>',props:["name","image","link","popularity","genres"],computed:{progressbar:function(){return{width:this.popularity+"%"}}}});new Vue({el:"#spotify",data:{artistInput:"",artists:[],showAmount:10,showAmountOptions:[5,10,20,50]},watch:{artistInput:function(t){t.length>0&&this.getData()},showAmount:function(t){this.artistInput.length>0&&this.getData()}},methods:{getData:function(){var t=this;$.ajax({url:"https://api.spotify.com/v1/search",type:"GET",dataType:"json",data:{q:this.artistInput,type:"artist",limit:this.showAmount},success:function(a){console.log(a.artists),console.log(a.artists.items);var i=a.artists.items;t.artists=[],$.each(i,function(a){var s=i[a],e=s.name,r=s.external_urls.spotify,n=s.popularity,o=s.genres;if(o=o.slice(0,3),o.length<1&&(o=["No genre available"]),s.images.length>0)var l=i[a].images[1].url;else l="https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/300px-No_image_available.svg.png";t.artists.push({name:e,image:l,link:r,popularity:n,genres:o})})},error:function(t){console.log("Exception: ",t)}})}}})});